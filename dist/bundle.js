!function o(i,s,u){function l(t,e){if(!s[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var a=s[t]={exports:{}};i[t][0].call(a.exports,function(e){return l(i[t][1][e]||e)},a,a.exports,o,i,s,u)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<u.length;e++)l(u[e]);return l}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("./dom/Traverse"),s=e("./data/Observe"),u=e("./etc/ElementEvents"),a=e("./vdom/Render"),o=e("./vdom/Diff"),l=e("./vdom/Hydrate"),n=(c.prototype.render=function(){var e=performance.now();if(this.$initial)this.$currentVDom=l.default(this,this.$masterVDom),console.log(this.$currentVDom),this.$appEl=function(e,t){return t.replaceWith(e),e}(a.renderElem(this,this.$currentVDom),this.$appContainerEl),this.$initial=!1;else{var t=l.default(this,this.$masterVDom);console.log(t);var r=o.default(this,this.$currentVDom,t);this.$appEl=r(this.$appEl),this.$currentVDom=t}var n=performance.now();console.log("Render took "+(n-e).toFixed(1)+"ms")},c);function c(r){if(this.$refs={},this.$filters={},this.$data={},this.$watchers={},this.$initial=!0,r.created&&r.created(),this.$appContainerSel=r.el,this.$appContainerEl=document.querySelector(this.$appContainerSel),this.$masterVDom=i.default(this.$appContainerEl),this.$currentVDom={},s.default(this,r.data),r.methods)for(var e in r.methods)r.methods.hasOwnProperty(e)&&(this[e]=r.methods[e]);if(r.events){var t=function(t){r.events.hasOwnProperty(t)&&u.possibleEventList.includes(t)&&document.addEventListener(t,function(e){return r.events[t](e)})};for(var n in r.events)t(n)}if(r.filters)for(var a in r.filters)r.filters.hasOwnProperty(a)&&(this.$filters[a]=r.filters[a]);if(this.render(),r.watch)for(var o in r.watch)r.watch.hasOwnProperty(o)&&(this.$watchers[o]=r.watch[o]);r.mounted&&r.mounted.call(this)}r.default=n,window.Polarbear=n},{"./data/Observe":6,"./dom/Traverse":7,"./etc/ElementEvents":8,"./vdom/Diff":15,"./vdom/Hydrate":16,"./vdom/Render":17}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("../data/DataFns");r.default=function(r,n,e){var t="input";e.includes("lazy")&&(t="change");var a=!1;e.includes("number")&&(a=!0);var o=!1;return e.includes("trim")&&(o=!0),{eventName:t,fn:function(e){var t=e.target.value;t=a?isNaN(parseFloat(t))?t:parseFloat(t):t,t=o?t.trim():t,i.setProp(r,n,t)}}}},{"../data/DataFns":5}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var d=e("../etc/KeyCodes"),f=e("../etc/ElementEvents"),p=e("../parser/CodeParser");r.default=function(t,e,r){var n=e.split("."),a=n[0],o=n.splice(1);if(f.possibleEventList.includes(a)){var i=Object.keys(d.keyCodes),s={capture:!1,passive:!1,prevent:!1,once:!1},u=[];o.forEach(function(e){if(Object.keys(s).includes(e))s[e]=!0;else if(i.includes(e))u.push("$event.keyCode === "+d.keyCodes[e]);else{var t=Number(e);isNaN(t)?u.push("$event.key === '"+e+"'"):u.push("$event.keyCode === "+t)}});var l="if (!("+u.join("||")+")) { return; }",c=p.parse(t,r);return{eventName:a,fn:function(e){return Function('\n      "use strict";\n      const $event = arguments[0];\n      '+(s.prevent?"$event.preventDefault();":"")+"\n      "+(0<u.length?l:"")+"\n      "+c+"\n      ").call(t,e)},otherEventModifiers:s}}}},{"../etc/ElementEvents":8,"../etc/KeyCodes":9,"../parser/CodeParser":13}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var c=e("../data/DataFns"),d=e("../etc/ResolveType"),f=e("../etc/NormalizeString");r.default=function(e,t){var r=t.split(/\sin\s/);if(1<r.length){var n=r[0].trim().split(","),a=c.getProp(e.$data,r[1].trim())||r[1].trim(),o=void 0,i=void 0,s=void 0,u=void 0,l=d.default(a);switch(1===n.length?o=f.default(n[0]):2===n.length?(o=f.default(n[0]),s=f.default(n[1])):3===n.length&&(o=f.default(n[0]),i=f.default(n[1]),s=f.default(n[2])),l){case"array":u=a.length;break;case"object":a=Object.entries(a),u=Object.keys(a).length;break;case"number":u=parseInt(a)}return{keyName:o,valName:i,idxName:s,iterable:a,count:u,type:l}}}},{"../data/DataFns":5,"../etc/NormalizeString":10,"../etc/ResolveType":12}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setProp=function(e,t,r){t.split&&(t=t.split("."));for(var n,a=0,o=t.length,i=e;a<o;++a)n=i[t[a]],i=i[t[a]]=a===o-1?r:null!=n?n:!~t[a+1].indexOf(".")&&-1<+t[a+1]?[]:{}},r.getProp=function(e,t,r,n){for(n=0,t=t.split?t.split("."):t;e&&n<t.length;)e=e[t[n++]];return void 0===e||n<t.length?r:e}},{}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var c=e("./DataFns");r.default=function i(s,u,l){function e(e){if(u.hasOwnProperty(e)){var r=l?l+"."+e:e,t=c.getProp(u,e),n=t.constructor;if(n===Object)c.setProp(s.$data,r,{}),c.setProp(s,r,{}),i(s,t,r);else if(n===Array){c.setProp(s.$data,r,t);var a=new Proxy(c.getProp(s.$data,r),{deleteProperty:function(e,t){return console.log("deleting "+String(t)+" from "+e),!0},set:function(e,t,r){return e[t]=r,console.log(e+" "+r+" "+String(t)),!0}});c.setProp(s,r,a)}else{c.setProp(s.$data,r,t);var o=l?c.getProp(s,l):s;Object.defineProperty(o,e,{get:function(){return c.getProp(s.$data,r)},set:function(e){var t=c.getProp(s.$data,r);c.setProp(s.$data,r,e),s.$watchers[r]&&s.$watchers[r].apply(s,[t,e]),s.render()}})}}}for(var t in u)e(t)}},{"./DataFns":5}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var p=e("../etc/Regexes"),v=e("../vdom/CreateElement");r.default=function t(e){var r={},n={},a="",o="",i={},s="",u=[];Array.from(e.childNodes).forEach(function(e){1===e.nodeType?u.push(t(e)):u.push(e.data)});for(var l=0;l<e.attributes.length;l++){var c=e.attributes[l],d=c.name,f=c.value;d.startsWith("@")?n[d.slice(1)]=f:d.startsWith("bindval")?i={prop:f,opts:d.split(".").slice(1)}:"loopfor"===d?o=String(f):"ref"===d?s=String(f):"showif"===d?a=f.replace(p.Regexes.interpolationContent,function(e){return"this."+e}):"showelse"===d?a="!("+e.previousElementSibling.attributes.showif.value.replace(p.Regexes.interpolationContent,function(e){return"this."+e})+")":r[d]=f}return v.default(e.tagName,{attrs:r,events:n,conditionalCase:a,loopCase:o,boundData:i,refName:s,children:u})}},{"../etc/Regexes":11,"../vdom/CreateElement":14}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.possibleEventList=["input","change","cached","error","abort","load","beforeunload","unload","online","offline","focus","blur","animationstart","animationend","animationiteration","transitionstart","transitioncancel","transitionend","transitionrun","reset","submit","resize","scroll","cut","copy","paste","keydown","keypress","keyup","mouseenter","mouseover","mousemove","mousedown","mouseup","auxclick","click","dblclick","contextmenu","wheel","mouseleave","mouseout","select","dragstart","drag","dragend","dragenter","dragover","dragleave","drop","durationchange","loadedmetadata","loadeddata","canplay","canplaythrough","ended","emptied","stalled","suspend","play","playing","pause","waiting","seeking","seeked","ratechange","timeupdate","volumechange","complete","audioprocess"]},{}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.keyCodes={backspace:8,delete:46,down:40,enter:13,left:37,right:39,space:32,tab:9,up:38,esc:27}},{}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return e.replace(/[^A-z0-9_$]/g,"").trim()}},{}],11:[function(e,t,r){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),(n=r.Regexes||(r.Regexes={})).interpolation=/({{.*?}})/,n.globalInterpolation=/({{.*?}})/g,n.innerInterpolation=/[\w\.]+/,n.innerFunctionInterpolation=/\w+\(\)/,n.interpolationContent=/[A-z]+((\.\w+)+)?(?=([^'\\]*(\\.|'([^'\\]*\\.)*[^'\\]*'))*[^']*$)/g,n.filterMatch=/(\|)(\s+)?\w+(.*)?\b(?=([^'\\]*(\\.|'([^'\\]*\\.)*[^'\\]*'))*[^']*$)/,n.filter2Match=/(\|)(\s+)?\w+(\.\w+)?(.*)?\b(?=([^'\\]*(\\.|'([^'\\]*\\.)*[^'\\]*'))*[^']*$)/,n.filterNames=/\w+(\.\w+)?/g},{}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return void 0!==e&&"[object Object]"===e.toString()?"object":Array.isArray(e)?"array":isNaN(e+0)?"string":"number"}},{}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../etc/Regexes");r.parse=function(r,e){return e.replace(n.Regexes.innerFunctionInterpolation,function(e){var t=e.substr(0,e.length-2);return r[t]?"this."+e:e})}},{"../etc/Regexes":11}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){var r=t.attrs,n=void 0===r?{}:r,a=t.events,o=void 0===a?{}:a,i=t.conditionalCase,s=void 0===i?"":i,u=t.loopCase,l=void 0===u?"":u,c=t.boundData,d=void 0===c?{}:c,f=t.refName,p=void 0===f?"":f,v=t.children;return{tagName:e,attrs:n,events:o,conditionalCase:s,loopCase:l,boundData:d,refName:p,children:void 0===v?[]:v}}},{}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("./Render"),s=e("./CreateElement"),u=function(r,e,n){var u=[];e.forEach(function(e,t){u.push(c(r,e,n[t]))});for(var l=[],t=function(t){l.push(function(e){return e.appendChild(i.render(r,t)),e})},a=0,o=n.slice(e.length);a<o.length;a++){t(o[a])}return function(e){for(var t=0,r=function(e,t){for(var r=[],n=0;n<Math.max(e.length,t.length);n++)r.push([e[n],t[n]]);return r}(u,e.childNodes);t<r.length;t++){var n=r[t],a=n[0],o=n[1];void 0!==a&&void 0!==o&&a(o)}for(var i=0,s=l;i<s.length;i++){(a=s[i])(e)}return e}};function c(r,e,n){if(void 0===n)return function(e){e.remove()};if("string"==typeof e||"string"==typeof n)return e!==n?function(e){var t=i.render(r,n);return e.replaceWith(t),t}:function(e){};if(e.tagName!==n.tagName)return function(e){var t=i.render(r,n);return e.replaceWith(t),t};if(""!==n.conditionalCase)return function(e){var t=i.render(r,n);return e.replaceWith(t),t};if(n.loopCase!==e.loopCase){var t=i.renderElem(r,s.default(n.tagName,{attrs:void 0,boundData:{},conditionalCase:"",events:void 0,loopCase:void 0,refName:"",children:i.render(r,n)}));return function(e){return e.replaceWith(t),t}}var a=function(e,t){for(var n=[],r=Object.assign(e,t),a=function(t,r){n.push(function(e){return e.setAttribute(t,r),e})},o=0,i=Object.entries(r);o<i.length;o++){var s=i[o];a(s[0],s[1])}return function(e){for(var t=0,r=n;t<r.length;t++){(0,r[t])(e)}}}(e.attrs,n.attrs),o=u(r,e.children,n.children);return function(e){return 1===e.nodeType&&(a(e),o(e)),e}}r.default=c},{"./CreateElement":14,"./Render":17}],16:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("../etc/Regexes"),_=e("./CreateElement"),w=e("../attributes/Loopfor"),o=e("../data/DataFns"),j=e("../etc/ResolveType");r.default=function E(C,e,N){var t=JSON.parse(JSON.stringify(e)),P=C.$data,O=[];return t.children.map(function(e){if("string"!=typeof e&&e.loopCase){var n=e.tagName,t=e.attrs,a=void 0===t?{}:t,r=e.events,o=void 0===r?{}:r,i=e.conditionalCase,s=e.loopCase,u=e.boundData,l=e.refName,c=e.children,d=void 0===c?[]:c,f=w.default(C,s),p=f.keyName,v=f.valName,h=f.idxName,m=f.iterable,g=f.count,b=f.type,y=Array.from(new Array(g),function(e,t){var r;return _.default(n,{attrs:a,events:o,conditionalCase:i,loopCase:null,boundData:u,refName:null,children:[E(C,{tagName:n,attrs:a,events:o,conditionalCase:i,loopCase:null,boundData:u,refName:l,children:d},(r={},r[p||"$KEYNAME"]="array"===b?m[t]:"object"===b?m[t][0]:t,r[v||"$VALNAME"]="array"===b?null:"object"===b?m[t][1]:t,r[h||"$IDXNAME"]=t,r))]})});O.push.apply(O,y)}else if("object"===j.default(e))O.push(E(C,e,N));else{var $=D(C,e);O.push(Function('\n            "use strict";\n            const $EXTRA_DATA = arguments[0];\n            return `'+$+"`;\n            ").call(P,N||{}))}}),t.children=O,t};var D=function(t,e){var r=e.match(a.Regexes.globalInterpolation);if(!r)return e;for(var n=0;n<r.length;n++)e=e.replace(r[n],function(e){return e.replace(a.Regexes.interpolationContent,function(e){return void 0!==o.getProp(t.$data,e)?"this."+e:"$EXTRA_DATA."+e}).replace("{{","${").replace("}}","}")});return e}},{"../attributes/Loopfor":4,"../data/DataFns":5,"../etc/Regexes":11,"../etc/ResolveType":12,"./CreateElement":14}],17:[function(e,t,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var A=e("../attributes/Events"),F=e("../data/DataFns"),T=e("../attributes/Bindval");k.renderElem=function(e,t){var r=t.tagName,n=t.attrs,a=void 0===n?{}:n,o=t.events,i=void 0===o?{}:o,s=t.conditionalCase,u=t.boundData,l=t.refName,c=t.children,d=void 0===c?[]:c,f=Boolean(Function('"use strict";return '+s+";").call(e));if(s&&!1===f)return document.createComment(" ");for(var p=document.createElement(r),v=0,h=Object.entries(a);v<h.length;v++){var m=h[v],g=m[0],b=m[1];p.setAttribute(g,b)}for(var y=0,$=Object.entries(i);y<$.length;y++){var E=$[y],C=(g=E[0],b=E[1],A.default(e,g,b)),N=C.eventName,P=C.fn,O=C.otherEventModifiers;p.addEventListener(N,P,O)}for(var _=0,w=d;_<w.length;_++){var j=w[_],D=k.render(e,j);p.appendChild(D)}if(u&&p instanceof HTMLInputElement){var M=u.prop,x=u.opts;p.value=F.getProp(e,M);var R=T.default(e,M,x);N=R.eventName,P=R.fn;p.addEventListener(N,P)}return l&&(e.$refs[l]=p),p},k.render=function(e,t){return"string"==typeof t?document.createTextNode(t):k.renderElem(e,t)}},{"../attributes/Bindval":2,"../attributes/Events":3,"../data/DataFns":5}]},{},[1]);
//# sourceMappingURL=bundle.js.map
