!function o(i,s,l){function u(t,e){if(!s[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var a=s[t]={exports:{}};i[t][0].call(a.exports,function(e){return u(i[t][1][e]||e)},a,a.exports,o,i,s,l)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("./dom/Traverse"),s=e("./data/Observe"),l=e("./etc/ElementEvents"),n=e("./vdom/Render"),a=(o.prototype.render=function(){var e=performance.now();document.querySelector(this.$appContainerSel).replaceWith(n.renderElem(this,this.$vdom));var t=performance.now();console.log("Render took "+(t-e).toFixed(1)+"ms")},o);function o(r){if(this.$refs={},this.$filters={},this.$data={},this.$watchers={},r.created&&r.created(),this.$appContainerSel=r.el,this.$appContainerEl=document.querySelector(this.$appContainerSel),this.$vdom=i.traverse(this.$appContainerEl),s.observe(this,r.data),r.methods)for(var e in r.methods)r.methods.hasOwnProperty(e)&&(this[e]=r.methods[e]);if(r.events){var t=function(t){r.events.hasOwnProperty(t)&&l.possibleEventList.includes(t)&&document.addEventListener(t,function(e){return r.events[t](e)})};for(var n in r.events)t(n)}if(r.filters)for(var a in r.filters)r.filters.hasOwnProperty(a)&&(this.$filters[a]=r.filters[a]);if(this.render(),r.watch)for(var o in r.watch)r.watch.hasOwnProperty(o)&&(this.$watchers[o]=r.watch[o]);r.mounted&&r.mounted.call(this)}r.default=a,window.Polarbear=a},{"./data/Observe":5,"./dom/Traverse":6,"./etc/ElementEvents":7,"./vdom/Render":12}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("../data/DataFns");r.default=function(r,n,e){var t="input";e.includes("lazy")&&(t="change");var a=!1;e.includes("number")&&(a=!0);var o=!1;return e.includes("trim")&&(o=!0),{eventName:t,fn:function(e){var t=e.target.value;t=a?isNaN(parseFloat(t))?t:parseFloat(t):t,t=o?t.trim():t,i.setProp(r,n,t)}}}},{"../data/DataFns":4}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var d=e("../etc/KeyCodes"),f=e("../etc/ElementEvents"),p=e("../parser/CodeParser");r.default=function(t,e,r){var n=e.split("."),a=n[0],o=n.splice(1),i=Object.keys(d.keyCodes),s={capture:!1,passive:!1,prevent:!1,once:!1},l=[];o.forEach(function(e){if(Object.keys(s).includes(e))s[e]=!0;else if(i.includes(e))l.push("$event.keyCode === "+d.keyCodes[e]);else{var t=Number(e);isNaN(t)?l.push("$event.key === '"+e+"'"):l.push("$event.keyCode === "+t)}});var u="if (!("+l.join("||")+")) { return; }";if(f.possibleEventList.includes(a)){var c=p.parse(t,r);return{eventName:a,fn:function(e){return Function('\n      "use strict";\n      const $event = arguments[0];\n      '+(s.prevent?"$event.preventDefault();":"")+"\n      "+(0<l.length?u:"")+"\n      "+c+"\n      ").call(t,e)},otherEventModifiers:s}}}},{"../etc/ElementEvents":7,"../etc/KeyCodes":8,"../parser/CodeParser":10}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setProp=function(e,t,r){t.split&&(t=t.split("."));for(var n,a=0,o=t.length,i=e;a<o;++a)n=i[t[a]],i=i[t[a]]=a===o-1?r:null!=n?n:!~t[a+1].indexOf(".")&&-1<+t[a+1]?[]:{}},r.getProp=function(e,t,r,n){for(n=0,t=t.split?t.split("."):t;e&&n<t.length;)e=e[t[n++]];return void 0===e||n<t.length?r:e}},{}],5:[function(e,t,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var c=e("./DataFns");u.observe=function(i,s,l){function e(e){if(s.hasOwnProperty(e)){var r=l?l+"."+e:e,t=c.getProp(s,e),n=t.constructor;if(n===Object)c.setProp(i.$data,r,{}),c.setProp(i,r,{}),u.observe(i,t,r);else if(n===Array){c.setProp(i.$data,r,t);var a=new Proxy(c.getProp(i.$data,r),{deleteProperty:function(e,t){return console.log("deleting "+String(t)+" from "+e),!0},set:function(e,t,r){return e[t]=r,console.log(e+" "+r+" "+String(t)),!0}});c.setProp(i,r,a)}else{c.setProp(i.$data,r,t);var o=l?c.getProp(i,l):i;Object.defineProperty(o,e,{get:function(){return c.getProp(i.$data,r)},set:function(e){var t=c.getProp(i.$data,r);c.setProp(i.$data,r,e),i.$watchers[r]&&i.$watchers[r].apply(i,[t,e]),i.render()}})}}}for(var t in s)e(t)}},{"./DataFns":4}],6:[function(e,t,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var p=e("../etc/Regexes"),v=e("../vdom/CreateElement");f.traverse=function(e){var t={},r={},n="",a="",o={},i="",s=[];Array.from(e.childNodes).forEach(function(e){1===e.nodeType?s.push(f.traverse(e)):s.push(e.data)});for(var l=0;l<e.attributes.length;l++){var u=e.attributes[l],c=u.name,d=u.value;if(c.startsWith("@"))r[c.slice(1)]=d;else if(c.startsWith("bindval")){o={prop:d,opts:c.split(".").slice(1)}}else if("loopfor"===c)a=String(d);else if("ref"===c)i=String(d);else if("showif"===c){n=d.replace(p.Regexes.interpolationContent,function(e){return"this."+e})}else if("showelse"===c){n="!("+e.previousElementSibling.attributes.showif.value.replace(p.Regexes.interpolationContent,function(e){return"this."+e})+")"}else t[c]=d}return v.createEl(e.tagName,{attrs:t,events:r,conditionalCase:n,loopCase:a,boundData:o,refName:i,children:s})}},{"../etc/Regexes":9,"../vdom/CreateElement":11}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.possibleEventList=["input","change","cached","error","abort","load","beforeunload","unload","online","offline","focus","blur","animationstart","animationend","animationiteration","transitionstart","transitioncancel","transitionend","transitionrun","reset","submit","resize","scroll","cut","copy","paste","keydown","keypress","keyup","mouseenter","mouseover","mousemove","mousedown","mouseup","auxclick","click","dblclick","contextmenu","wheel","mouseleave","mouseout","select","dragstart","drag","dragend","dragenter","dragover","dragleave","drop","durationchange","loadedmetadata","loadeddata","canplay","canplaythrough","ended","emptied","stalled","suspend","play","playing","pause","waiting","seeking","seeked","ratechange","timeupdate","volumechange","complete","audioprocess"]},{}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.keyCodes={backspace:8,delete:46,down:40,enter:13,left:37,right:39,space:32,tab:9,up:38,esc:27}},{}],9:[function(e,t,r){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),(n=r.Regexes||(r.Regexes={})).interpolation=/({{.*?}})/,n.globalInterpolation=/({{.*?}})/g,n.innerInterpolation=/[\w\.]+/,n.innerFunctionInterpolation=/\w+\(\)/,n.interpolationContent=/[A-z]+((\.\w+)+)?(?=([^'\\]*(\\.|'([^'\\]*\\.)*[^'\\]*'))*[^']*$)/g,n.filterMatch=/(\|)(\s+)?\w+(.*)?\b(?=([^'\\]*(\\.|'([^'\\]*\\.)*[^'\\]*'))*[^']*$)/,n.filter2Match=/(\|)(\s+)?\w+(\.\w+)?(.*)?\b(?=([^'\\]*(\\.|'([^'\\]*\\.)*[^'\\]*'))*[^']*$)/,n.filterNames=/\w+(\.\w+)?/g},{}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../etc/Regexes");r.parse=function(r,e){return e.replace(n.Regexes.innerFunctionInterpolation,function(e){var t=e.substr(0,e.length-2);return r[t]?"this."+e:e})}},{"../etc/Regexes":9}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createEl=function(e,t){var r=t.attrs,n=void 0===r?{}:r,a=t.events,o=void 0===a?{}:a,i=t.conditionalCase,s=void 0===i?"":i,l=t.loopCase,u=void 0===l?"":l,c=t.boundData,d=void 0===c?{}:c,f=t.refName,p=void 0===f?"":f,v=t.children;return{tagName:e,attrs:n,events:o,conditionalCase:s,loopCase:u,boundData:d,refName:p,children:void 0===v?[]:v}}},{}],12:[function(e,t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var A=e("../attributes/Events"),L=e("../data/DataFns"),q=e("../attributes/Bindval"),I=e("./CreateElement");S.renderElem=function(t,e){var r=e.tagName,n=e.attrs,a=void 0===n?{}:n,o=e.events,i=void 0===o?{}:o,s=e.conditionalCase,l=e.loopCase,u=e.boundData,c=e.refName,d=e.children,f=void 0===d?[]:d,p=Boolean(Function('"use strict";return '+s+";").call(t));if(s&&!1===p)return document.createComment(" ");for(var v=document.createElement(r),h=0,m=Object.entries(a);h<m.length;h++){var g=m[h],b=g[0],y=g[1];v.setAttribute(b,y)}for(var E=0,P=Object.entries(i);E<P.length;E++){var w=P[E],C=(b=w[0],y=w[1],A.default(t,b,y)),$=C.eventName,O=C.fn,_=C.otherEventModifiers;v.addEventListener($,O,_)}l=l?parseInt(l):null;for(var N=[],j=0,x=f;j<x.length;j++){var k=x[j],M=T(t,k);null!==l?N.push(k):Array.isArray(M)?M.forEach(function(e){v.appendChild(S.renderElem(t,e))}):v.appendChild(M)}if(l)return Array.from(new Array(l),function(e,t){return I.createEl(r,{attrs:a,events:i,conditionalCase:s,loopCase:null,boundData:u,refName:null,children:["hello"+t].concat(N)})});if(u&&v instanceof HTMLInputElement){var D=u.prop,F=u.opts;v.value=L.getProp(t,D);var R=q.default(t,D,F);$=R.eventName,O=R.fn;v.addEventListener($,O)}return c&&(t.$refs[c]=v),v};var T=function(e,t){return"string"==typeof t?document.createTextNode(t):S.renderElem(e,t)}},{"../attributes/Bindval":2,"../attributes/Events":3,"../data/DataFns":4,"./CreateElement":11}]},{},[1]);
//# sourceMappingURL=bundle.js.map
