!function o(i,s,u){function l(t,e){if(!s[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var a=s[t]={exports:{}};i[t][0].call(a.exports,function(e){return l(i[t][1][e]||e)},a,a.exports,o,i,s,u)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<u.length;e++)l(u[e]);return l}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("./dom/Traverse"),s=e("./data/Observe"),u=e("./etc/ElementEvents"),a=e("./vdom/Render"),o=e("./vdom/Diff"),l=e("./vdom/Hydrate"),n=(c.prototype.render=function(){var e=performance.now();if(this.$initial)this.$currentVDom=l.default(this,this.$masterVDom),this.$appEl=function(e,t){return t.replaceWith(e),e}(a.renderElem(this,this.$currentVDom),this.$appContainerEl),this.$initial=!1;else{var t=l.default(this,this.$masterVDom);console.log(t);var r=o.default(this,this.$currentVDom,t);this.$appEl=r(this.$appEl),this.$currentVDom=t}var n=performance.now();console.log("Render took "+(n-e).toFixed(1)+"ms")},c);function c(r){if(this.$refs={},this.$filters={},this.$data={},this.$watchers={},this.$initial=!0,r.created&&r.created(),this.$appContainerSel=r.el,this.$appContainerEl=document.querySelector(this.$appContainerSel),this.$masterVDom=i.default(this.$appContainerEl),this.$currentVDom={},s.default(this,r.data),r.methods)for(var e in r.methods)r.methods.hasOwnProperty(e)&&(this[e]=r.methods[e]);if(r.events){var t=function(t){r.events.hasOwnProperty(t)&&u.possibleEventList.includes(t)&&document.addEventListener(t,function(e){return r.events[t](e)})};for(var n in r.events)t(n)}if(r.filters)for(var a in r.filters)r.filters.hasOwnProperty(a)&&(this.$filters[a]=r.filters[a]);if(this.render(),r.watch)for(var o in r.watch)r.watch.hasOwnProperty(o)&&(this.$watchers[o]=r.watch[o]);r.mounted&&r.mounted.call(this)}r.default=n,window.Polarbear=n},{"./data/Observe":5,"./dom/Traverse":6,"./etc/ElementEvents":7,"./vdom/Diff":12,"./vdom/Hydrate":13,"./vdom/Render":14}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("../data/DataFns");r.default=function(r,n,e){var t="input";e.includes("lazy")&&(t="change");var a=!1;e.includes("number")&&(a=!0);var o=!1;return e.includes("trim")&&(o=!0),{eventName:t,fn:function(e){var t=e.target.value;t=a?isNaN(parseFloat(t))?t:parseFloat(t):t,t=o?t.trim():t,i.setProp(r,n,t)}}}},{"../data/DataFns":4}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var d=e("../etc/KeyCodes"),f=e("../etc/ElementEvents"),p=e("../parser/CodeParser");r.default=function(t,e,r){var n=e.split("."),a=n[0],o=n.splice(1),i=Object.keys(d.keyCodes),s={capture:!1,passive:!1,prevent:!1,once:!1},u=[];o.forEach(function(e){if(Object.keys(s).includes(e))s[e]=!0;else if(i.includes(e))u.push("$event.keyCode === "+d.keyCodes[e]);else{var t=Number(e);isNaN(t)?u.push("$event.key === '"+e+"'"):u.push("$event.keyCode === "+t)}});var l="if (!("+u.join("||")+")) { return; }";if(f.possibleEventList.includes(a)){var c=p.parse(t,r);return{eventName:a,fn:function(e){return Function('\n      "use strict";\n      const $event = arguments[0];\n      '+(s.prevent?"$event.preventDefault();":"")+"\n      "+(0<u.length?l:"")+"\n      "+c+"\n      ").call(t,e)},otherEventModifiers:s}}}},{"../etc/ElementEvents":7,"../etc/KeyCodes":8,"../parser/CodeParser":10}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setProp=function(e,t,r){t.split&&(t=t.split("."));for(var n,a=0,o=t.length,i=e;a<o;++a)n=i[t[a]],i=i[t[a]]=a===o-1?r:null!=n?n:!~t[a+1].indexOf(".")&&-1<+t[a+1]?[]:{}},r.getProp=function(e,t,r,n){for(n=0,t=t.split?t.split("."):t;e&&n<t.length;)e=e[t[n++]];return void 0===e||n<t.length?r:e}},{}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var c=e("./DataFns");r.default=function i(s,u,l){function e(e){if(u.hasOwnProperty(e)){var r=l?l+"."+e:e,t=c.getProp(u,e),n=t.constructor;if(n===Object)c.setProp(s.$data,r,{}),c.setProp(s,r,{}),i(s,t,r);else if(n===Array){c.setProp(s.$data,r,t);var a=new Proxy(c.getProp(s.$data,r),{deleteProperty:function(e,t){return console.log("deleting "+String(t)+" from "+e),!0},set:function(e,t,r){return e[t]=r,console.log(e+" "+r+" "+String(t)),!0}});c.setProp(s,r,a)}else{c.setProp(s.$data,r,t);var o=l?c.getProp(s,l):s;Object.defineProperty(o,e,{get:function(){return c.getProp(s.$data,r)},set:function(e){var t=c.getProp(s.$data,r);c.setProp(s.$data,r,e),s.$watchers[r]&&s.$watchers[r].apply(s,[t,e]),s.render()}})}}}for(var t in u)e(t)}},{"./DataFns":4}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var p=e("../etc/Regexes"),v=e("../vdom/CreateElement");r.default=function t(e){var r={},n={},a="",o="",i={},s="",u=[];Array.from(e.childNodes).forEach(function(e){1===e.nodeType?u.push(t(e)):u.push(e.data)});for(var l=0;l<e.attributes.length;l++){var c=e.attributes[l],d=c.name,f=c.value;d.startsWith("@")?n[d.slice(1)]=f:d.startsWith("bindval")?i={prop:f,opts:d.split(".").slice(1)}:"loopfor"===d?o=String(f):"ref"===d?s=String(f):"showif"===d?a=f.replace(p.Regexes.interpolationContent,function(e){return"this."+e}):"showelse"===d?a="!("+e.previousElementSibling.attributes.showif.value.replace(p.Regexes.interpolationContent,function(e){return"this."+e})+")":r[d]=f}return v.default(e.tagName,{attrs:r,events:n,conditionalCase:a,loopCase:o,boundData:i,refName:s,children:u})}},{"../etc/Regexes":9,"../vdom/CreateElement":11}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.possibleEventList=["input","change","cached","error","abort","load","beforeunload","unload","online","offline","focus","blur","animationstart","animationend","animationiteration","transitionstart","transitioncancel","transitionend","transitionrun","reset","submit","resize","scroll","cut","copy","paste","keydown","keypress","keyup","mouseenter","mouseover","mousemove","mousedown","mouseup","auxclick","click","dblclick","contextmenu","wheel","mouseleave","mouseout","select","dragstart","drag","dragend","dragenter","dragover","dragleave","drop","durationchange","loadedmetadata","loadeddata","canplay","canplaythrough","ended","emptied","stalled","suspend","play","playing","pause","waiting","seeking","seeked","ratechange","timeupdate","volumechange","complete","audioprocess"]},{}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.keyCodes={backspace:8,delete:46,down:40,enter:13,left:37,right:39,space:32,tab:9,up:38,esc:27}},{}],9:[function(e,t,r){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),(n=r.Regexes||(r.Regexes={})).interpolation=/({{.*?}})/,n.globalInterpolation=/({{.*?}})/g,n.innerInterpolation=/[\w\.]+/,n.innerFunctionInterpolation=/\w+\(\)/,n.interpolationContent=/[A-z]+((\.\w+)+)?(?=([^'\\]*(\\.|'([^'\\]*\\.)*[^'\\]*'))*[^']*$)/g,n.filterMatch=/(\|)(\s+)?\w+(.*)?\b(?=([^'\\]*(\\.|'([^'\\]*\\.)*[^'\\]*'))*[^']*$)/,n.filter2Match=/(\|)(\s+)?\w+(\.\w+)?(.*)?\b(?=([^'\\]*(\\.|'([^'\\]*\\.)*[^'\\]*'))*[^']*$)/,n.filterNames=/\w+(\.\w+)?/g},{}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../etc/Regexes");r.parse=function(r,e){return e.replace(n.Regexes.innerFunctionInterpolation,function(e){var t=e.substr(0,e.length-2);return r[t]?"this."+e:e})}},{"../etc/Regexes":9}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){var r=t.attrs,n=void 0===r?{}:r,a=t.events,o=void 0===a?{}:a,i=t.conditionalCase,s=void 0===i?"":i,u=t.loopCase,l=void 0===u?"":u,c=t.boundData,d=void 0===c?{}:c,f=t.refName,p=void 0===f?"":f,v=t.children;return{tagName:e,attrs:n,events:o,conditionalCase:s,loopCase:l,boundData:d,refName:p,children:void 0===v?[]:v}}},{}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("./Render"),s=e("./CreateElement"),u=function(r,e,n){var u=[];e.forEach(function(e,t){u.push(c(r,e,n[t]))});for(var l=[],t=function(t){l.push(function(e){return e.appendChild(i.render(r,t)),e})},a=0,o=n.slice(e.length);a<o.length;a++){t(o[a])}return function(e){for(var t=0,r=function(e,t){for(var r=[],n=0;n<Math.max(e.length,t.length);n++)r.push([e[n],t[n]]);return r}(u,e.childNodes);t<r.length;t++){var n=r[t],a=n[0],o=n[1];void 0!==a&&void 0!==o&&a(o)}for(var i=0,s=l;i<s.length;i++){(a=s[i])(e)}return e}};function c(r,e,n){if(void 0===n)return function(e){e.remove()};if("string"==typeof e||"string"==typeof n)return e!==n?function(e){var t=i.render(r,n);return e.replaceWith(t),t}:function(e){};if(e.tagName!==n.tagName)return function(e){var t=i.render(r,n);return e.replaceWith(t),t};if(""!==n.conditionalCase)return function(e){var t=i.render(r,n);return e.replaceWith(t),t};if(n.loopCase!==e.loopCase){var a=i.renderElem(r,s.default(n.tagName,{attrs:void 0,boundData:{},conditionalCase:"",events:void 0,loopCase:void 0,refName:"",children:i.render(r,n)}));return function(e){for(var t=e.parentNode.childNodes.length-1;1<t;t--)e.parentNode.childNodes[t].remove();return e.replaceWith(a),a}}var t=function(e,r){for(var n=[],t=function(t,r){n.push(function(e){return e.setAttribute(t,r),e})},a=0,o=Object.entries(r);a<o.length;a++){var i=o[a];t(u=i[0],i[1])}function s(t){t in r||n.push(function(e){return e.removeAttribute(t),e})}for(var u in e)s(u);return function(e){for(var t=0,r=n;t<r.length;t++){(0,r[t])(e)}}}(e.attrs,n.attrs),o=u(r,e.children,n.children);return function(e){return 1===e.nodeType&&(t(e),o(e)),e}}r.default=c},{"./CreateElement":11,"./Render":14}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("../etc/Regexes");r.default=function n(a,e){var o=JSON.parse(JSON.stringify(e)),i=a.$data;return Array.from(o.children).forEach(function(e,t){if("[object Object]"===e.toString())o.children[t]=n(a,e);else{var r=s(a,e);o.children[t]=Function('\n            "use strict";\n            return `'+r+"`;\n            ").call(i)}}),o};var s=function(e,t){var r=t.match(a.Regexes.globalInterpolation);if(!r)return t;for(var n=0;n<r.length;n++)t=t.replace(r[n],function(e){return e.replace(a.Regexes.interpolationContent,function(e){return"this."+e}).replace("{{","${").replace("}}","}")});return t}},{"../etc/Regexes":9}],14:[function(e,t,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var S=e("../attributes/Events"),L=e("../data/DataFns"),V=e("../attributes/Bindval"),I=e("./CreateElement");A.renderElem=function(t,e){var r=e.tagName,n=e.attrs,a=void 0===n?{}:n,o=e.events,i=void 0===o?{}:o,s=e.conditionalCase,u=e.loopCase,l=e.boundData,c=e.refName,d=e.children,f=void 0===d?[]:d,p=Boolean(Function('"use strict";return '+s+";").call(t));if(s&&!1===p)return document.createComment(" ");for(var v=document.createElement(r),h=0,m=Object.entries(a);h<m.length;h++){var g=m[h],b=g[0],y=g[1];v.setAttribute(b,y)}for(var E=0,$=Object.entries(i);E<$.length;E++){var C=$[E],P=(b=C[0],y=C[1],S.default(t,b,y)),w=P.eventName,O=P.fn,N=P.otherEventModifiers;v.addEventListener(w,O,N)}u=u?parseInt(u):null;for(var _=[],D=0,j=f;D<j.length;D++){var x=j[D],M=A.render(t,x);null!==u?_.push(x):Array.isArray(M)?M.forEach(function(e){v.appendChild(A.renderElem(t,e))}):v.appendChild(M)}if(u)return Array.from(new Array(u),function(e,t){return I.default(r,{attrs:a,events:i,conditionalCase:s,loopCase:null,boundData:l,refName:null,children:["hello"+t].concat(_)})});if(l&&v instanceof HTMLInputElement){var k=l.prop,R=l.opts;v.value=L.getProp(t,k);var F=V.default(t,k,R);w=F.eventName,O=F.fn;v.addEventListener(w,O)}return c&&(t.$refs[c]=v),v},A.render=function(e,t){return"string"==typeof t?document.createTextNode(t):A.renderElem(e,t)}},{"../attributes/Bindval":2,"../attributes/Events":3,"../data/DataFns":4,"./CreateElement":11}]},{},[1]);
//# sourceMappingURL=bundle.js.map
