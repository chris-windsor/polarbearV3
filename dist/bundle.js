!function o(i,s,u){function l(t,e){if(!s[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var a=s[t]={exports:{}};i[t][0].call(a.exports,function(e){return l(i[t][1][e]||e)},a,a.exports,o,i,s,u)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<u.length;e++)l(u[e]);return l}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./dom/Traverse"),s=e("./data/Observe"),u=e("./etc/ElementEvents"),a=e("./vdom/Render"),o=e("./vdom/Diff"),l=e("./vdom/Hydrate"),r=(c.prototype.render=function(){var e=performance.now();if(this.$initial)this.$currentVDom=l.default(this,this.$masterVDom),console.log(this.$currentVDom),this.$appEl=function(e,t){return t.replaceWith(e),e}(a.renderElem(this,this.$currentVDom),this.$appContainerEl),this.$initial=!1;else{var t=l.default(this,this.$masterVDom);console.log(t);var n=o.default(this,this.$currentVDom,t);this.$appEl=n(this.$appEl),this.$currentVDom=t}var r=performance.now();console.log("Render took "+(r-e).toFixed(1)+"ms")},c);function c(n){if(this.$refs={},this.$filters={},this.$data={},this.$watchers={},this.$initial=!0,n.created&&n.created(),this.$appContainerSel=n.el,this.$appContainerEl=document.querySelector(this.$appContainerSel),this.$masterVDom=i.default(this.$appContainerEl),this.$currentVDom={},s.default(this,n.data),n.methods)for(var e in n.methods)n.methods.hasOwnProperty(e)&&(this[e]=n.methods[e]);if(n.events){var t=function(t){n.events.hasOwnProperty(t)&&u.possibleEventList.includes(t)&&document.addEventListener(t,function(e){return n.events[t](e)})};for(var r in n.events)t(r)}if(n.filters)for(var a in n.filters)n.filters.hasOwnProperty(a)&&(this.$filters[a]=n.filters[a]);if(this.render(),n.watch)for(var o in n.watch)n.watch.hasOwnProperty(o)&&(this.$watchers[o]=n.watch[o]);n.mounted&&n.mounted.call(this)}n.default=r,window.Polarbear=r},{"./data/Observe":5,"./dom/Traverse":6,"./etc/ElementEvents":7,"./vdom/Diff":12,"./vdom/Hydrate":13,"./vdom/Render":14}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../data/DataFns");n.default=function(n,r,e){var t="input";e.includes("lazy")&&(t="change");var a=!1;e.includes("number")&&(a=!0);var o=!1;return e.includes("trim")&&(o=!0),{eventName:t,fn:function(e){var t=e.target.value;t=a?isNaN(parseFloat(t))?t:parseFloat(t):t,t=o?t.trim():t,i.setProp(n,r,t)}}}},{"../data/DataFns":4}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var d=e("../etc/KeyCodes"),f=e("../etc/ElementEvents"),p=e("../parser/CodeParser");n.default=function(t,e,n){var r=e.split("."),a=r[0],o=r.splice(1),i=Object.keys(d.keyCodes),s={capture:!1,passive:!1,prevent:!1,once:!1},u=[];o.forEach(function(e){if(Object.keys(s).includes(e))s[e]=!0;else if(i.includes(e))u.push("$event.keyCode === "+d.keyCodes[e]);else{var t=Number(e);isNaN(t)?u.push("$event.key === '"+e+"'"):u.push("$event.keyCode === "+t)}});var l="if (!("+u.join("||")+")) { return; }";if(f.possibleEventList.includes(a)){var c=p.parse(t,n);return{eventName:a,fn:function(e){return Function('\n      "use strict";\n      const $event = arguments[0];\n      '+(s.prevent?"$event.preventDefault();":"")+"\n      "+(0<u.length?l:"")+"\n      "+c+"\n      ").call(t,e)},otherEventModifiers:s}}}},{"../etc/ElementEvents":7,"../etc/KeyCodes":8,"../parser/CodeParser":10}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setProp=function(e,t,n){t.split&&(t=t.split("."));for(var r,a=0,o=t.length,i=e;a<o;++a)r=i[t[a]],i=i[t[a]]=a===o-1?n:null!=r?r:!~t[a+1].indexOf(".")&&-1<+t[a+1]?[]:{}},n.getProp=function(e,t,n,r){for(r=0,t=t.split?t.split("."):t;e&&r<t.length;)e=e[t[r++]];return void 0===e||r<t.length?n:e}},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=e("./DataFns");n.default=function i(s,u,l){function e(e){if(u.hasOwnProperty(e)){var n=l?l+"."+e:e,t=c.getProp(u,e),r=t.constructor;if(r===Object)c.setProp(s.$data,n,{}),c.setProp(s,n,{}),i(s,t,n);else if(r===Array){c.setProp(s.$data,n,t);var a=new Proxy(c.getProp(s.$data,n),{deleteProperty:function(e,t){return console.log("deleting "+String(t)+" from "+e),!0},set:function(e,t,n){return e[t]=n,console.log(e+" "+n+" "+String(t)),!0}});c.setProp(s,n,a)}else{c.setProp(s.$data,n,t);var o=l?c.getProp(s,l):s;Object.defineProperty(o,e,{get:function(){return c.getProp(s.$data,n)},set:function(e){var t=c.getProp(s.$data,n);c.setProp(s.$data,n,e),s.$watchers[n]&&s.$watchers[n].apply(s,[t,e]),s.render()}})}}}for(var t in u)e(t)}},{"./DataFns":4}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var p=e("../etc/Regexes"),v=e("../vdom/CreateElement");n.default=function t(e){var n={},r={},a="",o="",i={},s="",u=[];Array.from(e.childNodes).forEach(function(e){1===e.nodeType?u.push(t(e)):u.push(e.data)});for(var l=0;l<e.attributes.length;l++){var c=e.attributes[l],d=c.name,f=c.value;d.startsWith("@")?r[d.slice(1)]=f:d.startsWith("bindval")?i={prop:f,opts:d.split(".").slice(1)}:"loopfor"===d?o=String(f):"ref"===d?s=String(f):"showif"===d?a=f.replace(p.Regexes.interpolationContent,function(e){return"this."+e}):"showelse"===d?a="!("+e.previousElementSibling.attributes.showif.value.replace(p.Regexes.interpolationContent,function(e){return"this."+e})+")":n[d]=f}return v.default(e.tagName,{attrs:n,events:r,conditionalCase:a,loopCase:o,boundData:i,refName:s,children:u})}},{"../etc/Regexes":9,"../vdom/CreateElement":11}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.possibleEventList=["input","change","cached","error","abort","load","beforeunload","unload","online","offline","focus","blur","animationstart","animationend","animationiteration","transitionstart","transitioncancel","transitionend","transitionrun","reset","submit","resize","scroll","cut","copy","paste","keydown","keypress","keyup","mouseenter","mouseover","mousemove","mousedown","mouseup","auxclick","click","dblclick","contextmenu","wheel","mouseleave","mouseout","select","dragstart","drag","dragend","dragenter","dragover","dragleave","drop","durationchange","loadedmetadata","loadeddata","canplay","canplaythrough","ended","emptied","stalled","suspend","play","playing","pause","waiting","seeking","seeked","ratechange","timeupdate","volumechange","complete","audioprocess"]},{}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.keyCodes={backspace:8,delete:46,down:40,enter:13,left:37,right:39,space:32,tab:9,up:38,esc:27}},{}],9:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),(r=n.Regexes||(n.Regexes={})).interpolation=/({{.*?}})/,r.globalInterpolation=/({{.*?}})/g,r.innerInterpolation=/[\w\.]+/,r.innerFunctionInterpolation=/\w+\(\)/,r.interpolationContent=/[A-z]+((\.\w+)+)?(?=([^'\\]*(\\.|'([^'\\]*\\.)*[^'\\]*'))*[^']*$)/g,r.filterMatch=/(\|)(\s+)?\w+(.*)?\b(?=([^'\\]*(\\.|'([^'\\]*\\.)*[^'\\]*'))*[^']*$)/,r.filter2Match=/(\|)(\s+)?\w+(\.\w+)?(.*)?\b(?=([^'\\]*(\\.|'([^'\\]*\\.)*[^'\\]*'))*[^']*$)/,r.filterNames=/\w+(\.\w+)?/g},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../etc/Regexes");n.parse=function(n,e){return e.replace(r.Regexes.innerFunctionInterpolation,function(e){var t=e.substr(0,e.length-2);return n[t]?"this."+e:e})}},{"../etc/Regexes":9}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=t.attrs,r=void 0===n?{}:n,a=t.events,o=void 0===a?{}:a,i=t.conditionalCase,s=void 0===i?"":i,u=t.loopCase,l=void 0===u?"":u,c=t.boundData,d=void 0===c?{}:c,f=t.refName,p=void 0===f?"":f,v=t.children;return{tagName:e,attrs:r,events:o,conditionalCase:s,loopCase:l,boundData:d,refName:p,children:void 0===v?[]:v}}},{}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Render"),s=e("./CreateElement"),u=function(n,e,r){var u=[];e.forEach(function(e,t){u.push(c(n,e,r[t]))});for(var l=[],t=function(t){l.push(function(e){return e.appendChild(i.render(n,t)),e})},a=0,o=r.slice(e.length);a<o.length;a++){t(o[a])}return function(e){for(var t=0,n=function(e,t){for(var n=[],r=0;r<Math.max(e.length,t.length);r++)n.push([e[r],t[r]]);return n}(u,e.childNodes);t<n.length;t++){var r=n[t],a=r[0],o=r[1];void 0!==a&&void 0!==o&&a(o)}for(var i=0,s=l;i<s.length;i++){(a=s[i])(e)}return e}};function c(n,e,r){if(void 0===r)return function(e){e.remove()};if("string"==typeof e||"string"==typeof r)return e!==r?function(e){var t=i.render(n,r);return e.replaceWith(t),t}:function(e){};if(e.tagName!==r.tagName)return function(e){var t=i.render(n,r);return e.replaceWith(t),t};if(""!==r.conditionalCase)return function(e){var t=i.render(n,r);return e.replaceWith(t),t};if(r.loopCase!==e.loopCase){var a=i.renderElem(n,s.default(r.tagName,{attrs:void 0,boundData:{},conditionalCase:"",events:void 0,loopCase:void 0,refName:"",children:i.render(n,r)}));return function(e){for(var t=e.parentNode.childNodes.length-1;1<t;t--)e.parentNode.childNodes[t].remove();return e.replaceWith(a),a}}var t=function(e,n){for(var r=[],t=function(t,n){r.push(function(e){return e.setAttribute(t,n),e})},a=0,o=Object.entries(n);a<o.length;a++){var i=o[a];t(u=i[0],i[1])}function s(t){t in n||r.push(function(e){return e.removeAttribute(t),e})}for(var u in e)s(u);return function(e){for(var t=0,n=r;t<n.length;t++){(0,n[t])(e)}}}(e.attrs,r.attrs),o=u(n,e.children,r.children);return function(e){return 1===e.nodeType&&(t(e),o(e)),e}}n.default=c},{"./CreateElement":11,"./Render":14}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("../etc/Regexes"),y=e("./CreateElement");n.default=function h(m,e){var t=JSON.parse(JSON.stringify(e)),g=m.$data,b=[];return t.children.map(function(e,t){if("string"!=typeof e&&e.loopCase){var n=e.tagName,r=e.attrs,a=void 0===r?{}:r,o=e.events,i=void 0===o?{}:o,s=e.conditionalCase,u=e.loopCase,l=e.boundData,c=e.refName,d=e.children,f=h(m,{tagName:n,attrs:a,events:i,conditionalCase:s,loopCase:null,boundData:l,refName:c,children:void 0===d?[]:d}),p=Array.from(new Array(parseInt(u)),function(e,t){return y.default(n,{attrs:a,events:i,conditionalCase:s,loopCase:null,boundData:l,refName:null,children:[f]})});b.push.apply(b,p)}else if("[object Object]"===e.toString())b.push(h(m,e));else{var v=C(m,e);b.push(Function('\n            "use strict";\n            return `'+v+"`;\n            ").call(g))}}),t.children=b,t};var C=function(e,t){var n=t.match(a.Regexes.globalInterpolation);if(!n)return t;for(var r=0;r<n.length;r++)t=t.replace(n[r],function(e){return e.replace(a.Regexes.interpolationContent,function(e){return"this."+e}).replace("{{","${").replace("}}","}")});return t}},{"../etc/Regexes":9,"./CreateElement":11}],14:[function(e,t,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var S=e("../attributes/Events"),V=e("../data/DataFns"),I=e("../attributes/Bindval"),L=e("./CreateElement");A.renderElem=function(t,e){var n=e.tagName,r=e.attrs,a=void 0===r?{}:r,o=e.events,i=void 0===o?{}:o,s=e.conditionalCase,u=e.loopCase,l=e.boundData,c=e.refName,d=e.children,f=void 0===d?[]:d,p=Boolean(Function('"use strict";return '+s+";").call(t));if(s&&!1===p)return document.createComment(" ");for(var v=document.createElement(n),h=0,m=Object.entries(a);h<m.length;h++){var g=m[h],b=g[0],y=g[1];v.setAttribute(b,y)}for(var C=0,E=Object.entries(i);C<E.length;C++){var $=E[C],P=(b=$[0],y=$[1],S.default(t,b,y)),w=P.eventName,N=P.fn,O=P.otherEventModifiers;v.addEventListener(w,N,O)}u=u?parseInt(u):null;for(var _=[],D=0,j=f;D<j.length;D++){var x=j[D],M=A.render(t,x);null!==u?_.push(x):Array.isArray(M)?M.forEach(function(e){v.appendChild(A.renderElem(t,e))}):v.appendChild(M)}if(u)return console.log("Shouldn't be coming here",e),Array.from(new Array(u),function(e,t){return L.default(n,{attrs:a,events:i,conditionalCase:s,loopCase:null,boundData:l,refName:null,children:["hello"+t].concat(_)})});if(l&&v instanceof HTMLInputElement){var k=l.prop,R=l.opts;v.value=V.getProp(t,k);var F=I.default(t,k,R);w=F.eventName,N=F.fn;v.addEventListener(w,N)}return c&&(t.$refs[c]=v),v},A.render=function(e,t){return"string"==typeof t?document.createTextNode(t):A.renderElem(e,t)}},{"../attributes/Bindval":2,"../attributes/Events":3,"../data/DataFns":4,"./CreateElement":11}]},{},[1]);
//# sourceMappingURL=bundle.js.map
